package isola.tags.js.base;import java.io.IOException;import javax.servlet.jsp.JspException;import javax.servlet.jsp.tagext.BodyContent;import javolution.text.TextBuilder;import isola.tags.base.BaseTag;public class ScriptTag extends BaseTag {	private static final long serialVersionUID = 3519733633572687607L;	private String src;		@Override	protected void clear() {		src = null;	}		@Override	public int doEndTag() throws JspException {		TextBuilder buff = new TextBuilder();		if (src != null && src.trim().length() > 0) {			buff.append("<script type=\"text/javascript\" src=\"").append(src).append("\">");		} else {			BodyContent body = getBodyContent();			if (body != null) {				String content = body.getString();				buff.append("<script type=\"text/javascript\">");				buff.append(content);				buff.append("</script>");			}		}		try {			pageContext.getOut().write(buff.toString());		} catch (IOException e) {		}		return EVAL_PAGE;	}		/**	 * The URL to load an external script file.	 */	public void setSrc(String src) {		this.src = src;	}}