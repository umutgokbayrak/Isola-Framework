package isola.model.core;import isola.utility.Utility;import java.util.ArrayList;import java.util.Iterator;import javolution.text.TextBuilder;import org.apache.commons.lang.StringUtils;public class JsArray extends ArrayList<Object> implements JsVariable {	private static final long serialVersionUID = 2646021211540183481L;		public JsArray() {		super();	}		/**	 * 	 * Multiple obj values can be assigned at once.	 * 	 * 	 * 	 * @param obj	 */	public JsArray(Object... obj) {		if (obj != null) {			for (int i = 0; i < obj.length; i++) {				add(obj[i]);			}		}	}		@Override	public String toString() {		Iterator<Object> iter = iterator();		TextBuilder buff = new TextBuilder();		Object val = null;		while (iter.hasNext()) {			val = iter.next();			if (val != null) {				if (val instanceof String) {					if (val != null && val.equals("this")) {						buff.append(val).append(",");					} else {						if (StringUtils.isNumeric(val.toString())) {							buff.append(val.toString()).append(",");						} else {							if (!val.toString().startsWith("'")) {								val = Utility.replaceAllOccurances(((String) val).trim(), "'", "\\'");								buff.append("'").append(val).append("'").append(",");							} else {								buff.append(val).append(",");							}						}					}				} else {					try {						buff.append(val.toString()).append(",");					} catch (Throwable e) {						buff.append("");					}				}			} else {				buff.append("null,");			}		}		String txt = buff.toString();		if (txt.endsWith(",")) {			txt = txt.substring(0, txt.length() - 1);		}		txt = "[" + txt + "]";		return txt;	}}