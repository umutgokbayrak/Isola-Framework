var Isola = new Class({	call: function(uri, funct, params, options) {		this.XHR = new XHR({			async: true, 			method: 'post',			onSuccess: function(str) {				$clear(this.timer);				var res;
				try { res = Json.evaluate(str); } catch (e) { res = str; }				if (options != null && options.callback != null) {					options.callback(res);				}			},			onFailure: function(obj) {				$clear(this.timer);				if (options != null && options.errorHandler != null) {					options.errorHandler(obj);				}
			},			onRequest: function() {				var timeout = 30000;				if (options != null && options.timeout != null) {					timeout = options.timeout;				}				this.timer = this.cancel.delay(timeout, this);			}		}).send('${contextRoot}${urlPrefix}' + uri, 'method=' + funct + '&params=' + params);	},	onTimeout: function() {		this.XHR.cancel();	}});var contextRoot = '${contextRoot}';var urlPrefix = '${urlPrefix}';